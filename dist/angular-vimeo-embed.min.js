"use strict";angular.module("vimeoEmbed",[]).directive("vimeoVideo",function(){return{restrict:"EA",replace:!0,scope:{videoId:"=",videoUrl:"=",playerOpts:"=",playerHeight:"=",playerWidth:"=",api:"="},link:function(e,i,o,r){var t=e.videoId?"https://vimeo.com/"+e.videoId:e.videoUrl,n=o.playerId||i[0].id,l="?url="+encodeURIComponent(t)+"&callback=JSON_CALLBACK&player_id="+n,c=e.playerOpts||null;if(e.playerWidth&&(l+="&width="+e.playerWidth),e.playerHeight&&(l+="&height="+e.playerHeight),e.api&&(l+="&api=1"),c)for(var d in c)l+="&"+d+"="+c[d];r.getVideo(l).then(function(e){i.html(e.html)},function(e){i.html("<div>"+e+"</div>")})},controller:["$scope","$q","VimeoService",function(e,i,o){this.getVideo=function(e){var r=i.defer();return o.oEmbed(e).success(function(e){r.resolve(e)}).error(function(){r.reject("Oops! It looks like there was an error!")}),r.promise}}]}}).factory("VimeoService",["$http",function(e){var i={},o="https://www.vimeo.com/api/oembed.json";return i.oEmbed=function(i){return e.jsonp(o+i)},i}]);
"use strict";angular.module("vimeoEmbed",[]).directive("vimeoVideo",function(){return{restrict:"EA",replace:!0,scope:{videoId:"=",videoUrl:"=",playerOpts:"=",playerHeight:"=",playerWidth:"=",api:"="},link:function(e,i,r,o){var t=r.playerId||i[0].id;i[0].id=t;var n=e.videoId?"https://vimeo.com/"+e.videoId:e.videoUrl,d="?url="+encodeURIComponent(n)+"&callback=JSON_CALLBACK&player_id="+t,l=e.playerOpts||null;if(e.playerWidth&&(d+="&width="+e.playerWidth),e.playerHeight&&(d+="&height="+e.playerHeight),e.api&&(d+="&api=1"),l)for(var c in l)d+="&"+c+"="+l[c];o.getVideo(d).then(function(e){i.html(e.html)},function(e){i.html("<div>"+e+"</div>")})},controller:["$scope","$q","VimeoService",function(e,i,r){this.getVideo=function(e){var o=i.defer();return r.oEmbed(e).success(function(e){o.resolve(e)}).error(function(){o.reject("Oops! It looks like there was an error!")}),o.promise}}]}}).factory("VimeoService",["$http",function(e){var i={},r="https://www.vimeo.com/api/oembed.json";return i.oEmbed=function(i){return e.jsonp(r+i)},i}]);
!function(e,i){"use strict";i.module("vimeoEmbed",[]).directive("vimeoVideo",function(){return{restrict:"EA",replace:!0,scope:{videoId:"=",videoUrl:"=",playerOpts:"=",playerHeight:"=",playerWidth:"=",api:"="},link:function(e,i,o,r){var t=o.playerId||i[0].id;i[0].id=t;var n=e.videoId?"https://vimeo.com/"+e.videoId:e.videoUrl,d="?url="+encodeURIComponent(n)+"&callback=JSON_CALLBACK&player_id="+t,c=e.playerOpts||null;if(e.playerWidth&&(d+="&width="+e.playerWidth),e.playerHeight&&(d+="&height="+e.playerHeight),e.api&&(d+="&api=1"),c)for(var l in c)d+="&"+l+"="+c[l];r.getVideo(d).then(function(e){i.html(e.html)},function(e){i.html("<div>"+e+"</div>")})},controller:["$scope","$q","VimeoService",function(e,i,o){this.getVideo=function(e){var r=i.defer();return o.oEmbed(e).success(function(e){r.resolve(e)}).error(function(){r.reject("Oops! It looks like there was an error!")}),r.promise}}]}}).factory("VimeoService",["$http",function(e){var i={},o="https://www.vimeo.com/api/oembed.json";return i.oEmbed=function(i){return e.jsonp(o+i)},i}])}(window,window.angular);